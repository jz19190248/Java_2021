# W3

## P1 面向对象的程序设计

### T1 复数类设计

![image-20210406111228885](C:\Users\86185\AppData\Roaming\Typora\typora-user-images\image-20210406111228885.png)

代码：

complex类设计：

```java
package W3_P1_T1;
public class ComplexNumber {
    // @设计一个复数类
    //

    double tru;
    double vir;

    ComplexNumber() {
        tru = 0;
        vir = 0;
    }

    public ComplexNumber(double Tru, double Vir) {
        tru = Tru;
        vir = Vir;
    }

    void setval(double Tru, double Vir) {
        tru = Tru;
        vir = Vir;
    }

    ComplexNumber add(ComplexNumber comnumber) {
        ComplexNumber reslut = new ComplexNumber();
        reslut.tru = this.tru + comnumber.tru;
        reslut.vir = this.vir + comnumber.vir;
        return reslut;
    }

    ComplexNumber multiplication(ComplexNumber comnumber) {
        ComplexNumber reslut = new ComplexNumber();
        reslut.tru = this.tru * comnumber.tru;
        reslut.vir = this.vir * comnumber.vir;
        return reslut;
    }

    ComplexNumber sub(ComplexNumber comnumber) {
        ComplexNumber reslut = new ComplexNumber();
        reslut.tru = this.tru - comnumber.tru;
        reslut.vir = this.vir - comnumber.vir;
        return reslut;
    }

    String tostr() {
        return tru + "+" + vir + "i";
    }

}

```

测试类设计：

```java
package W3_P1_T1;

import java.util.*;
//复数对象的设计

public class W3_P1_T1_TEST {
    // 复数类的测试
    public static void main(String[] args) {

        ComplexNumber number1 = new ComplexNumber(2, 3);
        ComplexNumber number2 = new ComplexNumber(4, 6);
        System.out.println("number1:  " + number1.tostr());
        System.out.println("number2:  " + number2.tostr());
        System.out.println("number1+nuber2  = " + number1.add(number2).tostr());
    }

}
```

### 2 支付方式

![image-20210426211512011](C:\Users\86185\AppData\Roaming\Typora\typora-user-images\image-20210426211512011.png)

```java
//父类：
package W3_P1_T2;
public   class Pay {
    public static double money = 100.0;
   public  void payway(double x){
       money -= x;
       System.out.println("支付" + x + "元，余额" + money + "元");
   }
   public void show(){
    System.out.println("当前余额:"+money);
}
}
```

```java
//子类
//支付宝支付类
package W3_P1_T2;
public class PayByAliPay extends Pay{
    public  void payway(double x){
        money -= x;
        System.out.println("支付宝支付" + x + "元，余额" + money + "元");
    }
}

//现金支付类
package W3_P1_T2;

public class PayByCash extends Pay {
    public void payway(double x) {
        money -= x;
        System.out.println("现金支付" + x + "元，余额" + money + "元");
    }
}
```

```java
//测试类

package W3_P1_T2;

import java.util.*;

public class PayTest {
    public static void main(String[] args) {
        Pay pay;
        pay = new PayByAliPay();
        pay.show();
        pay.payway(20.0);
        pay.show();

        pay = new PayByCash();
        pay.show();
        pay.payway(10.0);
        pay.show();
    }
}
```

### 3 单例模式



### 4 策略模式

```java
public interface Sort {
    void SortMothd();
}

class QuickSort implements Sort {
    public void SortMothd() {
        System.out.println("QuickSort");
    }
}

class ShellSort implements Sort {
    public void SortMothd() {
        System.out.println("ShellSort");
    }
}
```

```java
public class SortStrategy {
    Sort mysort;

    public SortStrategy(Sort mysort) {
        this.mysort = mysort;
    }

    public void setMysort(Sort mysort) {
        this.mysort = mysort;
    }

    public void startSort() {
        mysort.SortMothd();
    }

}

```

```java
import java.util.*;

public class SortTest {
    public static void main(String[] args) {
        SortStrategy mySortStrategy = new SortStrategy(new QuickSort());
        mySortStrategy.startSort();
        mySortStrategy.setMysort(new ShellSort());
        mySortStrategy.startSort();
    }
}

```

![image-20210511113221442](C:\Users\86185\AppData\Roaming\Typora\typora-user-images\image-20210511113221442.png)

### 5 跨平台播放器设计，桥接模式

![image-20210516142948474](C:\Users\86185\AppData\Roaming\Typora\typora-user-images\image-20210516142948474.png)

```java
//CLient
public class Client {
    // public static void main(String[] args)
    public static void main(String[] args) {
        VideoFile vf;
        OperatingSystemVersion osType1 = new WindowsVersion();
        vf = new AVIFile();
        osType1.setVideo(vf);
        osType1.play("AVI");

        OperatingSystemVersion osType2 = new LinuxVersion();
        vf = new MPEGFile();
        osType2.setVideo(vf);
        osType2.play("MPEG");

        OperatingSystemVersion osType3 = new MacVersion();
        vf = new RMVBFile();
        osType3.setVideo(vf);
        osType3.play("RMVB");
    }
}
```

```java
//文件类
public interface VideoFile {
    void decode(String osType, String fileName);
}

public class MPEGFile implements VideoFile {
    public void decode(String osType, String fileName) {
        System.out.println("操作系统：" + osType + " 文件名称" + fileName);
    }

}

public class RMVBFile implements VideoFile {
    public void decode(String osType, String fileName) {
        System.out.println("操作系统：" + osType + " 文件名称" + fileName);
    }

}

public class AVIFile implements VideoFile {
    public void decode(String osType, String fileName) {
        System.out.println("操作系统：" + osType + " 文件名称" + fileName);
    }

}

```

```java
//操作系统类
public abstract class OperatingSystemVersion {
    protected VideoFile vf;

    public void setVideo(VideoFile vf) {
        this.vf = vf;
    }

    public abstract void play(String fileName);
}

public class LinuxVersion extends OperatingSystemVersion {
    public void play(String fileName) {
        String osType = "Linux播放";
        this.vf.decode(osType, fileName);
    }

}
public class MacVersion extends OperatingSystemVersion {
    public void play(String fileName) {
        String osType = "Mac播放";
        this.vf.decode(osType, fileName);
    }

}

```

类视图：

![img](https://img-blog.csdn.net/20151110160157860)

## P2 字符串处理
### T1 异常处理进制转换
```java
import java.util.*;
import java.lang.*;
public class Conversion_Number_System {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        try{
            System.out.println("请输入原进制：");
            int N = scanner.nextInt();
            System.out.println("请输入字符串：");
            String str = scanner.next();
            System.out.println("请输入目标进制：");
            int M = scanner.nextInt();
            int  k = Integer.parseInt(str,N);
            System.out.println(N+"进制数"+str+"转换为"+M+"进制数为"+Integer.toString(k,M));
        }
        catch (NumberFormatException e1){
            System.out.println("非法的进制数");
        }
        finally{
        scannr.close();}
    }
}
```

### T3字符串部分求和

```java

import java.util.regex.*;
import java.lang.*;
import java.util.Arrays;
 public class GetSum {
     public static void main(String[] args) {
         String str = "123%^(56)hfghjf6787()HJKH21";
         String regex = "[^0-9]+";
         String [] parts= str.split(regex);
         //System.out.println(Arrays.toString(parts));
         int  i =0;
         int  sum = 0 ;
         while(i < parts.length ){
             //System.out.println(parts[i]);
             sum +=Integer.parseInt(parts[i]);
             i++;
         }
         System.out.println(sum);
     }
}
```

![image-20210527123808476](C:\Users\86185\AppData\Roaming\Typora\typora-user-images\image-20210527123808476.png)



### T4子串中括号添加

```java
import java.net.SocketOption;

public class W3_P2_T4_AddBrackets {
    public static void main(String[] args) {
        String str = "ab123ab123";
        String str1 = "ab";
        String substr = "["+str1+"]";
        System.out.println(str.replaceAll(str1,substr));
    }
}
```

![image-20210527123914917](C:\Users\86185\AppData\Roaming\Typora\typora-user-images\image-20210527123914917.png)

### T5 字符串转置

```java
import java.util.Scanner;

public class String_Rverse {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        String input;
        System.out.println("请输入字符串：");
        input = scanner.next();
        //"abc123汉字";
        StringBuffer sb =new StringBuffer(input);
        System.out.println("翻转字符串为：  "+sb.reverse());
    }
}
```

![image-20210527123616199](C:\Users\86185\AppData\Roaming\Typora\typora-user-images\image-20210527123616199.png)